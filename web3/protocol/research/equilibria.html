<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equilibria (EQB) äº¤äº’å¼æŠ•èµ„åˆ†æä»ªè¡¨æ¿ (AIå¢å¼ºç‰ˆ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Tech -->
    <!-- Application Structure Plan: The SPA is designed as a top-down investment decision-making dashboard. It starts with a high-level "Executive Dashboard" (final rating, key metrics, bull/bear cases) to provide an immediate overview. It then guides the user to a "Risk Matrix" for a clear, interactive breakdown of potential downsides. Next, the "Investment Strategies" section uses a tabbed interface to offer actionable ways to engage with the protocol, now enhanced with a Gemini API-powered "AI Strategy Optimizer". Finally, a "Competitive Landscape" section visually explains the "Pendle Wars" context. This structure prioritizes user understanding and decision support. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Final Investment Rating -> Goal: Inform -> Viz/Method: Prominent "Badge" display.
        - Report Info: Key Metrics -> Goal: Inform -> Viz/Method: Stat Cards.
        - Report Info: Token Supply Distribution -> Goal: Organize/Inform -> Viz/Method: Chart.js Doughnut Chart.
        - Report Info: Bull vs. Bear Cases -> Goal: Compare -> Viz/Method: Side-by-side text columns.
        - Report Info: Risk Categories -> Goal: Organize/Inform -> Viz/Method: Interactive HTML/CSS/JS Cards with modal.
        - Report Info: Investment Strategies -> Goal: Compare/Organize -> Viz/Method: Interactive Tabs + âœ¨ Gemini API call for dynamic strategy optimization suggestions. This is the new AI-powered feature.
        - Report Info: Equilibria vs. Penpie Metrics -> Goal: Compare -> Viz/Method: Chart.js Bar Chart.
        - Library/Method: Chart.js, Vanilla JS, and the Fetch API to call the Gemini API.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #F8F7F4;
            color: #34495E;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 40vh;
            max-height: 400px;
            width: 100%;
            max-width: 400px;
        }
        .bar-chart-container {
            position: relative;
            margin: auto;
            height: 50vh;
            max-height: 500px;
            width: 100%;
            max-width: 800px;
        }
        .nav-link {
            transition: color 0.3s ease, border-color 0.3s ease;
        }
        .nav-link:hover, .nav-link.active {
            color: #3B82F6;
            border-bottom-color: #3B82F6;
        }
        .strategy-tab {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .strategy-tab.active {
            border-color: #3B82F6;
            color: #3B82F6;
            background-color: #EFF6FF;
        }
        .risk-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .risk-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .spinner {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3B82F6;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <header id="header" class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-gray-800">Equilibria (EQB) æŠ•èµ„ä»ªè¡¨æ¿</h1>
                </div>
                <nav class="hidden md:flex md:space-x-8">
                    <a href="#dashboard" class="nav-link text-gray-500 hover:text-blue-500 border-b-2 border-transparent pb-1">æŠ•èµ„æ¦‚è§ˆ</a>
                    <a href="#risks" class="nav-link text-gray-500 hover:text-blue-500 border-b-2 border-transparent pb-1">é£é™©çŸ©é˜µ</a>
                    <a href="#strategies" class="nav-link text-gray-500 hover:text-blue-500 border-b-2 border-transparent pb-1">æŠ•èµ„ç­–ç•¥</a>
                    <a href="#competition" class="nav-link text-gray-500 hover:text-blue-500 border-b-2 border-transparent pb-1">ç«äº‰æ ¼å±€</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

        <section id="dashboard" class="scroll-mt-24">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-800">æŠ•èµ„æ¦‚è§ˆ</h2>
            <p class="text-center text-gray-500 mb-8 max-w-2xl mx-auto">æœ¬èŠ‚æä¾›å¯¹Equilibriaé¡¹ç›®çš„é¡¶å±‚è§†å›¾ï¼ŒåŒ…æ‹¬æˆ‘ä»¬çš„æœ€ç»ˆæŠ•èµ„è¯„çº§ã€å®æ—¶æ ¸å¿ƒæŒ‡æ ‡ä»¥åŠæ ¸å¿ƒçš„çœ‹æ¶¨ä¸çœ‹è·Œè®ºç‚¹ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿå½¢æˆåˆæ­¥åˆ¤æ–­ã€‚</p>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-1 flex flex-col items-center justify-center bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                    <h3 class="text-lg font-semibold text-gray-500 mb-2">æœ€ç»ˆæŠ•èµ„è¯„çº§</h3>
                    <div class="bg-blue-100 text-blue-800 text-2xl font-bold px-6 py-3 rounded-full">
                        æŠ•æœºæ€§ä¹°å…¥
                    </div>
                    <p class="text-center text-sm text-gray-500 mt-4">æ­¤è¯„çº§ä¸»è¦é’ˆå¯¹å…·å¤‡é«˜é£é™©æ‰¿å—èƒ½åŠ›ã€æ·±åˆ»ç†è§£DeFiæœºåˆ¶ä¸”å¯»æ±‚è¶…é¢å›æŠ¥çš„ä¸“ä¸šæŠ•èµ„è€…ã€‚</p>
                </div>

                <div class="lg:col-span-2 grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="bg-white p-4 rounded-2xl shadow-md text-center border border-gray-100">
                        <p class="text-sm text-gray-500">EQB ä»·æ ¼</p>
                        <p class="text-2xl font-bold text-gray-800">$0.39</p>
                    </div>
                    <div class="bg-white p-4 rounded-2xl shadow-md text-center border border-gray-100">
                        <p class="text-sm text-gray-500">æ€»é”ä»“ä»·å€¼ (TVL)</p>
                        <p class="text-2xl font-bold text-gray-800">$140M</p>
                    </div>
                    <div class="bg-white p-4 rounded-2xl shadow-md text-center border border-gray-100">
                        <p class="text-sm text-gray-500">æµé€šå¸‚å€¼</p>
                        <p class="text-2xl font-bold text-gray-800">$13.2M</p>
                    </div>
                    <div class="bg-white p-4 rounded-2xl shadow-md text-center border border-gray-100">
                        <p class="text-sm text-gray-500">EQB è´¨æŠ¼ç‡</p>
                        <p class="text-2xl font-bold text-green-600">~82%</p>
                    </div>
                </div>

                <div class="lg:col-span-3 grid grid-cols-1 md:grid-cols-5 gap-8 items-center mt-8">
                    <div class="md:col-span-3 bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                        <h3 class="text-xl font-bold text-center mb-4 text-gray-800">æ ¸å¿ƒæŠ•èµ„è®ºç‚¹</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                            <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                                <h4 class="font-bold text-lg text-green-800 mb-2">çœ‹æ¶¨æƒ…æ™¯ (Bull Case)</h4>
                                <ul class="space-y-2 text-sm text-green-700 list-disc list-inside">
                                    <li><strong>å„æ–­æ½œåŠ›:</strong> ä¸»è¦ç«äº‰å¯¹æ‰‹Penpieå¤±è´¥ï¼Œä¸ºEquilibriaå®ç°"èµ¢å®¶é€šåƒ"åˆ›é€ äº†å†å²æ€§æœºé‡ã€‚</li>
                                    <li><strong>ä¾›åº”å†²å‡»:</strong> æé«˜çš„è´¨æŠ¼ç‡(>80%)å’Œä½æµé€šç›˜ï¼Œä»»ä½•æ–°éœ€æ±‚éƒ½å¯èƒ½å¼•å‘ä»·æ ¼å‰§çƒˆä¸Šæ¶¨ã€‚</li>
                                    <li><strong>æˆç†Ÿæ¨¡å¼:</strong> å·²éªŒè¯çš„å•†ä¸šæ¨¡å¼ï¼Œèƒ½äº§ç”Ÿæ•°ç™¾ä¸‡ç¾å…ƒçš„å¹´åŒ–åè®®æ”¶å…¥ã€‚</li>
                                    <li><strong>æœªæ¥å‚¬åŒ–å‰‚:</strong> å³å°†æ¨å‡ºçš„åŸç”Ÿè´¿é€‰å¸‚åœºå°†æå¤§æå‡vlEQBçš„ä»·å€¼æ•è·èƒ½åŠ›ã€‚</li>
                                </ul>
                            </div>
                            <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                                <h4 class="font-bold text-lg text-red-800 mb-2">çœ‹è·Œæƒ…æ™¯ (Bear Case)</h4>
                                <ul class="space-y-2 text-sm text-red-700 list-disc list-inside">
                                    <li><strong>åè®®ä¾èµ–:</strong> åè®®å‘½è¿å®Œå…¨ä¾èµ–äºåº•å±‚Pendle Financeï¼Œæ˜¯å…¶é«˜Betaæ æ†ã€‚</li>
                                    <li><strong>åˆçº¦é£é™©:</strong> DeFiåè®®å›ºæœ‰é£é™©ï¼Œä»»ä½•å®‰å…¨æ¼æ´éƒ½å¯èƒ½æ˜¯è‡´å‘½çš„ã€‚</li>
                                    <li><strong>æµåŠ¨æ€§é™·é˜±:</strong> æ—¥äº¤æ˜“é‡æä½ï¼Œå¤§èµ„é‡‘æ— æ³•è‡ªç”±è¿›å‡ºï¼Œä»·æ ¼è„†å¼±æ˜“è¢«æ“çºµã€‚</li>
                                    <li><strong>é€šèƒ€å‹åŠ›:</strong> ä»æœ‰çº¦66%çš„ä»£å¸å¾…é‡Šæ”¾ï¼Œå¯¹å¸‚åœºæ„æˆæŒç»­æŠ›å‹ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="md:col-span-2 bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                        <h3 class="text-xl font-bold text-center mb-4 text-gray-800">EQB ä»£å¸åˆ†å¸ƒ</h3>
                        <div class="chart-container">
                            <canvas id="tokenomicsChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="risks" class="scroll-mt-24 mt-16 md:mt-24">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-800">äº¤äº’å¼é£é™©çŸ©é˜µ</h2>
            <p class="text-center text-gray-500 mb-8 max-w-2xl mx-auto">æŠ•èµ„å‰å¿…é¡»å……åˆ†ç†è§£æ½œåœ¨é£é™©ã€‚æˆ‘ä»¬å·²å°†æŠ¥å‘Šä¸­å¤æ‚çš„é£é™©è¯„ä¼°è½¬åŒ–ä¸ºä¸€ä¸ªäº¤äº’å¼çŸ©é˜µã€‚ç‚¹å‡»ä¸‹æ–¹çš„å¡ç‰‡ï¼Œå¯ä»¥æ·±å…¥äº†è§£æ¯ä¸€ä¸ªé£é™©ç±»åˆ«çš„å…·ä½“ç»†èŠ‚ã€æ½œåœ¨å½±å“ä»¥åŠç°æœ‰çš„ç¼“è§£æªæ–½ã€‚</p>
            
            <div id="risk-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            </div>
        </section>

        <section id="strategies" class="scroll-mt-24 mt-16 md:mt-24">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-800">æŠ•èµ„ç­–ç•¥å·¥ä½œå° (âœ¨ AI å¢å¼º)</h2>
            <p class="text-center text-gray-500 mb-8 max-w-2xl mx-auto">äº†è§£äº†é¡¹ç›®å’Œé£é™©åï¼Œä¸‹ä¸€æ­¥æ˜¯é€‰æ‹©åˆé€‚çš„å‚ä¸æ–¹å¼ã€‚è¿™é‡Œæˆ‘ä»¬æä¾›äº†å¤šç§æŠ•èµ„ç­–ç•¥ã€‚ç‚¹å‡»ä¸‹æ–¹â€œè·å–AIä¼˜åŒ–å»ºè®®â€æŒ‰é’®ï¼Œç”± Gemini æ¨¡å‹ä¸ºæ‚¨æä¾›ä¸ªæ€§åŒ–çš„ç­–ç•¥å¢å¼ºæ–¹æ¡ˆã€‚</p>

            <div class="w-full max-w-4xl mx-auto bg-white rounded-2xl shadow-lg border border-gray-100 p-2">
                <div id="strategy-tabs" class="flex flex-wrap justify-center border-b border-gray-200">
                </div>
                <div id="strategy-content" class="p-6">
                </div>
            </div>
        </section>

        <section id="competition" class="scroll-mt-24 mt-16 md:mt-24">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-800">ç«äº‰æ ¼å±€ï¼šâ€œPendle Warsâ€</h2>
            <p class="text-center text-gray-500 mb-8 max-w-2xl mx-auto">Equilibriaçš„å´›èµ·å¹¶éå­¤ä¾‹ï¼Œè€Œæ˜¯â€œPendle Warsâ€çš„ä¸€éƒ¨åˆ†ã€‚æœ¬èŠ‚å°†é€šè¿‡æ•°æ®å¯è§†åŒ–ï¼Œå±•ç°å…¶ä¸ä¸»è¦ç«äº‰å¯¹æ‰‹Penpieåœ¨è¢«ç›—äº‹ä»¶å‰çš„ç«äº‰æ€åŠ¿ï¼Œå¹¶é˜è¿°Penpieçš„å¤±è´¥å¦‚ä½•ä»æ ¹æœ¬ä¸Šæ”¹å˜äº†æ¸¸æˆè§„åˆ™ã€‚</p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                 <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                    <h3 class="text-xl font-bold text-center mb-4 text-gray-800">æ ¸å¿ƒæŒ‡æ ‡å¯¹å†³ (è¢«ç›—å‰)</h3>
                    <div class="bar-chart-container">
                        <canvas id="competitionChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                    <h3 class="text-xl font-bold text-blue-600 mb-4">æ¸¸æˆè§„åˆ™æ”¹å˜è€…ï¼šPenpieè¢«ç›—äº‹ä»¶</h3>
                    <div class="space-y-4 text-gray-600">
                        <p>2024å¹´9æœˆï¼ŒEquilibriaæœ€å¼ºåŠ²çš„ç«äº‰å¯¹æ‰‹Penpieå› é‡å…¥æ¼æ´é­å—æ¯ç­æ€§æ”»å‡»ï¼ŒæŸå¤±çº¦2700ä¸‡ç¾å…ƒã€‚è¿™ä¸€é»‘å¤©é¹…äº‹ä»¶æˆå‰§æ€§åœ°ç»“æŸäº†â€œPendle Warsâ€çš„ç™½çƒ­åŒ–é˜¶æ®µã€‚</p>
                        <p class="font-semibold">å¯¹Equilibriaçš„å½±å“ï¼š</p>
                        <ul class="list-disc list-inside space-y-2">
                            <li><strong class="text-green-600">æ¸…é™¤æ ¸å¿ƒå¯¹æ‰‹:</strong> å¸‚åœºç«äº‰æ ¼å±€è¢«é‡å¡‘ï¼Œä¸ºEquilibriaå·©å›ºå…¶ä½œä¸ºPendleç”Ÿæ€æ²»ç†é¾™å¤´çš„åœ°ä½æ‰«æ¸…äº†æœ€å¤§éšœç¢ã€‚</li>
                            <li><strong class="text-green-600">å¸æ”¶å¸‚åœºä»½é¢:</strong> Penpieå´©æºƒåï¼Œå…¶TVLå’Œç”¨æˆ·ä¿¡å¿ƒå¤–æµï¼ŒEquilibriaæˆä¸ºæœ€ç›´æ¥çš„å—ç›Šè€…ã€‚</li>
                            <li><strong class="text-red-600">æ•²å“å®‰å…¨è­¦é’Ÿ:</strong> äº‹ä»¶ä¹Ÿå‡¸æ˜¾äº†æ­¤ç±»åè®®å›ºæœ‰çš„æ™ºèƒ½åˆçº¦é£é™©ï¼Œå¼ºè°ƒäº†æŒç»­å®‰å…¨å®¡è®¡çš„é‡è¦æ€§ã€‚</li>
                        </ul>
                        <p class="mt-4 text-sm text-gray-500">ç»“è®ºï¼šPenpieçš„å¤±è´¥è™½æ˜¯è¡Œä¸šä¸å¹¸ï¼Œä½†ä»çº¯ç²¹çš„ç«äº‰è§’åº¦çœ‹ï¼Œå®ƒä¸ºEquilibriaæä¾›äº†ä¸€ä¸ªå‰æ‰€æœªæœ‰çš„ã€å®ç°â€œèµ¢å®¶é€šåƒâ€çš„å†å²æ€§æœºé‡ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-sm">
            <p>&copy; 2024 äº¤äº’å¼æŠ•èµ„åˆ†æä»ªè¡¨æ¿ã€‚æ‰€æœ‰æ•°æ®å‡æ¥æºäºå…¬å¼€æŠ¥å‘Šï¼Œä»…ä¾›ç ”ç©¶å‚è€ƒï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚</p>
            <p class="mt-1 text-gray-400">åŸºäºâ€œEquilibria Finance (EQB)ï¼šä¸€ä»½æœºæ„çº§å°½èŒè°ƒæŸ¥æŠ¥å‘Šâ€ç”Ÿæˆã€‚ âœ¨ AI åŠŸèƒ½ç”± Gemini å¼ºåŠ›é©±åŠ¨ã€‚</p>
        </div>
    </footer>


    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const riskData = [
            { 
                title: "æ™ºèƒ½åˆçº¦é£é™©", 
                icon: "ğŸ›¡ï¸",
                short: "ä»£ç æ¼æ´å¯èƒ½å¯¼è‡´èµ„é‡‘è¢«ç›—ã€‚",
                long: "å°½ç®¡ç»è¿‡å¤šå®¶çŸ¥åæœºæ„å®¡è®¡ï¼Œä½†æ— æ³•100%ä¿è¯å®‰å…¨ã€‚å…¶ç«äº‰å¯¹æ‰‹Penpieçš„è¢«ç›—äº‹ä»¶å°±æ˜¯ä¸€ä¸ªæƒ¨ç—›æ•™è®­ï¼Œè¡¨æ˜æ–°åŠŸèƒ½çš„å¼•å…¥å¯èƒ½å¸¦æ¥æœªçŸ¥æ¼æ´ã€‚ç¼“è§£å› ç´ åŒ…æ‹¬ï¼šPeckShieldå’ŒWatchPugå®¡è®¡ã€æ¼æ´èµé‡‘è®¡åˆ’ã€æŒç»­å®¡è®¡æ‰¿è¯ºã€‚",
                severity: "é«˜"
            },
            { 
                title: "ç³»ç»Ÿæ€§é£é™©", 
                icon: "ğŸ”—",
                short: "åè®®å‘½è¿ä¸Pendle Financeé«˜åº¦ç»‘å®šã€‚",
                long: "Equilibriaçš„ä»·å€¼å®Œå…¨é™„å±äºPendleã€‚å¦‚æœPendleå¤±è´¥ã€åœæ»æˆ–é­å—æ”»å‡»ï¼ŒEquilibriaå°†å¤±å»å…¶å­˜åœ¨çš„æ ¹åŸºã€‚ç¼“è§£å› ç´ æ˜¯Pendleè‡ªèº«æ˜¯å…¶èµ›é“çš„é¢†å¯¼è€…ï¼ŒåŸºæœ¬é¢ç›¸å¯¹ç¨³å›ºã€‚",
                severity: "æé«˜"
            },
            { 
                title: "ç»æµé£é™©", 
                icon: "ğŸ“‰",
                short: "ä»£å¸æµåŠ¨æ€§æå·®ï¼Œå­˜åœ¨è„±é”šå’Œé€šèƒ€å‹åŠ›ã€‚",
                long: "EQBæ—¥äº¤æ˜“é‡æä½ï¼Œå¤§é¢äº¤æ˜“å›°éš¾ã€‚ePENDLEå­˜åœ¨ä¸PENDLEè„±é”šçš„é£é™©ã€‚æœªæ¥å¤§é‡ä»£å¸è§£é”ä¼šå¸¦æ¥æŒç»­çš„æŠ›å”®å‹åŠ›ã€‚ç¼“è§£å› ç´ åŒ…æ‹¬åè®®çš„å›è´­è®¡åˆ’å’Œæœªæ¥å¯èƒ½çš„CEXä¸Šå¸ã€‚",
                severity: "é«˜"
            },
            { 
                title: "è¿è¥ä¸å›¢é˜Ÿé£é™©", 
                icon: "ğŸ‘¥",
                short: "åŒ¿åå›¢é˜Ÿä¸å¤šç­¾é’±åŒ…æ§åˆ¶ã€‚",
                long: "åŒ¿åå›¢é˜Ÿåœ¨é—®è´£æ–¹é¢å­˜åœ¨å¤©ç„¶é£é™©ã€‚åè®®ç”±2/3å¤šç­¾é’±åŒ…æ§åˆ¶ï¼Œè‹¥ç§é’¥è¢«ç›—åˆ™åæœä¸¥é‡ã€‚ç¼“è§£å› ç´ æ˜¯å¤šç­¾æœºåˆ¶æœ¬èº«åˆ†æ•£äº†é£é™©ï¼Œæ—¶é—´é”æä¾›äº†ååº”çª—å£ï¼Œä¸”å›¢é˜Ÿå·²ç¨³å®šè¿è¥è¶…è¿‡ä¸€å¹´ã€‚",
                severity: "ä¸­"
            }
        ];

        const strategyData = {
            "vlEQBè´¨æŠ¼": {
                description: "è´­ä¹°å¹¶é”å®šEQBä»¥è·å¾—vlEQBã€‚è¿™æ˜¯å¯¹åè®®æˆåŠŸçš„æœ€é«˜ä¿¡å¿µã€æœ€é•¿æœŸçš„æŠ¼æ³¨ï¼Œå¯ä»¥æ•è·åè®®æ”¶å…¥å’Œæœªæ¥çš„è´¿é€‰æ”¶ç›Šã€‚",
                assets: "EQBä»£å¸",
                risk: "é«˜",
                reward: "é«˜",
                complexity: "ä½",
                rating: "B-",
                riskColor: "text-red-500",
                rewardColor: "text-green-500"
            },
            "å¢ç›ŠLPæŒ–çŸ¿": {
                description: "å°†æ‚¨åœ¨Pendleä¸Šçš„LPä»£å¸å­˜å…¥Equilibriaçš„å¢ç›Šæ± ã€‚è¿™æ˜¯ä¸€ç§é£é™©è¾ƒä½çš„æ•å£è·å–æ–¹å¼ï¼Œå¯ä»¥åœ¨ä¸ç›´æ¥æ‰¿æ‹…è¿‡å¤šEQBä»£å¸ä»·æ ¼é£é™©çš„æƒ…å†µä¸‹è·å¾—æ”¶ç›Šã€‚",
                assets: "Pendle LPä»£å¸",
                risk: "ä¸­",
                reward: "ä¸­",
                complexity: "ä¸­",
                rating: "B+",
                riskColor: "text-yellow-500",
                rewardColor: "text-yellow-500"
            },
            "ePENDLEè´¨æŠ¼": {
                description: "ä¸»è¦é’ˆå¯¹å·²æŒæœ‰PENDLEçš„ç”¨æˆ·ã€‚å°†PENDLEè½¬æ¢ä¸ºePENDLEå¹¶è´¨æŠ¼ï¼Œä¸ç›´æ¥é”å®šç›¸æ¯”æä¾›äº†æµåŠ¨æ€§å¹¶èƒ½èµšå–é¢å¤–æ”¶å…¥ã€‚",
                assets: "PENDLEä»£å¸",
                risk: "ä¸­",
                reward: "ä¸­",
                complexity: "ä½",
                rating: "B",
                riskColor: "text-yellow-500",
                rewardColor: "text-yellow-500"
            },
            "å¼€å‘è€…APIé›†æˆ": {
                description: "é€‚ç”¨äºæœ‰å¼€å‘èƒŒæ™¯çš„æŠ•èµ„è€…ã€‚åˆ©ç”¨åè®®æä¾›çš„APIæ„å»ºè‡ªåŠ¨åŒ–çš„æŠ•ç¥¨/è´¿é€‰ç­–ç•¥ã€æ•°æ®åˆ†æé¢æ¿æˆ–å…¶ä»–å·¥å…·ï¼Œä»¥èµšå–è´¹ç”¨æˆ–ä¼˜åŒ–ä¸ªäººæ”¶ç›Šã€‚",
                assets: "æŠ€æœ¯èƒ½åŠ›ã€å°‘é‡Gas",
                risk: "å¯å˜",
                reward: "å¯å˜",
                complexity: "æé«˜",
                rating: "N/A",
                riskColor: "text-gray-500",
                rewardColor: "text-gray-500"
            }
        };

        function createTokenomicsChart() {
            const ctx = document.getElementById('tokenomicsChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['è´¨æŠ¼ä¸­ (vlEQB)', 'æµé€šä¸­ (æœªè´¨æŠ¼)', 'æœªæ¥é‡Šæ”¾'],
                    datasets: [{
                        data: [82, 18, 66],
                        backgroundColor: [
                            '#22C55E', 
                            '#F97316',
                            '#6B7280' 
                        ],
                        borderColor: '#F8F7F4',
                        borderWidth: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    family: "'Noto Sans SC', sans-serif"
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        if (label === 'è´¨æŠ¼ä¸­ (vlEQB)' || label === 'æµé€šä¸­ (æœªè´¨æŠ¼)') {
                                           label += `${context.raw}% (å æµé€šç›˜)`;
                                        } else {
                                           label += `${context.raw}% (å æ€»ä¾›åº”é‡)`;
                                        }
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }

        function createCompetitionChart() {
            const ctx = document.getElementById('competitionChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['æ€»é”ä»“ä»·å€¼ (TVL)', 'æ€»PENDLEé”å®šé‡'],
                    datasets: [
                        {
                            label: 'Equilibria (EQB)',
                            data: [30, 1.1],
                            backgroundColor: '#3B82F6',
                            borderColor: '#1E40AF',
                            borderWidth: 1
                        },
                        {
                            label: 'Penpie (PNP)',
                            data: [43, 1.0],
                            backgroundColor: '#A855F7',
                            borderColor: '#6B21A8',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value, index, values) {
                                    if (index === 0) return '$' + value + 'M';
                                    if (index === 1) return value + 'M';
                                    return value;
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                             callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                       label += context.parsed.y + 'M';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function populateRisks() {
            const grid = document.getElementById('risk-grid');
            grid.innerHTML = riskData.map(risk => `
                <div class="risk-card bg-white p-6 rounded-2xl shadow-md cursor-pointer border border-gray-100" data-risk='${JSON.stringify(risk)}'>
                    <div class="flex items-center mb-3">
                        <span class="text-3xl mr-4">${risk.icon}</span>
                        <div>
                            <h4 class="font-bold text-lg text-gray-800">${risk.title}</h4>
                            <span class="text-sm font-semibold ${risk.severity === 'é«˜' || risk.severity === 'æé«˜' ? 'text-red-500' : 'text-yellow-500'}">æ½œåœ¨å½±å“: ${risk.severity}</span>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm">${risk.short}</p>
                </div>
            `).join('');
            
            grid.addEventListener('click', (e) => {
                const card = e.target.closest('.risk-card');
                if (card) {
                    const risk = JSON.parse(card.dataset.risk);
                    showRiskModal(risk);
                }
            });
        }
        
        function showRiskModal(risk) {
            let existingModal = document.getElementById('risk-modal');
            if (existingModal) {
                existingModal.remove();
            }

            const modalHTML = `
                <div id="risk-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 fade-in">
                    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-8 relative transform transition-all duration-300 scale-95" id="risk-modal-content">
                        <button id="close-modal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-800 text-2xl">&times;</button>
                        <div class="flex items-start mb-4">
                            <span class="text-4xl mr-4">${risk.icon}</span>
                            <div>
                                <h3 class="text-2xl font-bold text-gray-800">${risk.title}</h3>
                                <span class="text-md font-semibold ${risk.severity === 'é«˜' || risk.severity === 'æé«˜' ? 'text-red-500' : 'text-yellow-500'}">æ½œåœ¨å½±å“: ${risk.severity}</span>
                            </div>
                        </div>
                        <div class="text-gray-600 space-y-3">
                           <p>${risk.long}</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            
            setTimeout(() => {
                document.getElementById('risk-modal-content').classList.remove('scale-95');
                document.getElementById('risk-modal-content').classList.add('scale-100');
            }, 10);
            
            document.getElementById('risk-modal').addEventListener('click', (e) => {
                if(e.target.id === 'risk-modal' || e.target.id === 'close-modal') {
                    closeModal();
                }
            });
        }

        function closeModal() {
            let modal = document.getElementById('risk-modal');
            if (modal) {
                document.getElementById('risk-modal-content').classList.remove('scale-100');
                document.getElementById('risk-modal-content').classList.add('scale-95');
                modal.classList.add('opacity-0');
                setTimeout(() => modal.remove(), 300);
            }
        }
        
        async function getAiSuggestions(strategyDescription) {
            const suggestionsContainer = document.getElementById('ai-suggestions-container');
            suggestionsContainer.innerHTML = `<div class="flex items-center justify-center p-4"><div class="spinner mr-2"></div><p>æ­£åœ¨å‘ Gemini è¯·æ±‚ç­–ç•¥å»ºè®®...</p></div>`;
            suggestionsContainer.style.display = 'block';

            const prompt = `ä½ æ˜¯ä¸€ä½é¡¶çº§çš„DeFiç­–ç•¥åˆ†æå¸ˆï¼Œç²¾é€šå„ç§æ”¶ç›Šèšåˆå’Œé£é™©å¯¹å†²åè®®ã€‚å¯¹äºä»¥ä¸‹æŠ•èµ„ç­–ç•¥ï¼šâ€œ${strategyDescription}â€ï¼Œè¯·æä¾›2-3ä¸ªå…·ä½“çš„ã€å¯æ“ä½œçš„ä¼˜åŒ–å»ºè®®ï¼Œä»¥å¸®åŠ©æŠ•èµ„è€…æé«˜æ”¶ç›Šï¼ˆAPY/APRï¼‰æˆ–å¯¹å†²æ½œåœ¨é£é™©ã€‚\n\nä½ çš„å»ºè®®åº”è¯¥ï¼š\n1. å…·æœ‰åˆ›æ„ï¼Œå¯ä»¥ç»“åˆä½¿ç”¨å…¶ä»–DeFiåè®®ï¼ˆä¾‹å¦‚å€Ÿè´·ã€è¡ç”Ÿå“ã€å†è´¨æŠ¼ç­‰ï¼‰ã€‚\n2. å…·æœ‰å¯æ“ä½œæ€§ï¼Œæ¸…æ™°åœ°è¯´æ˜æ­¥éª¤ã€‚\n3. ä»¥æ— åºåˆ—è¡¨çš„å½¢å¼è¿”å›ï¼Œæ¯ä¸ªå»ºè®®ç‚¹ä»¥ '*' å¼€å¤´ã€‚\n\nè¯·ç›´æ¥è¿”å›åˆ—è¡¨å†…å®¹ï¼Œä¸è¦åŒ…å«ä»»ä½•é¢å¤–çš„é—®å€™è¯­æˆ–æ€»ç»“ã€‚`;

            try {
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                if (!response.ok) {
                   throw new Error(`API è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : ${response.status}`);
                }

                const result = await response.json();
                
                let text = 'æ— æ³•è·å–å»ºè®®ï¼Œè¯·ç¨åé‡è¯•ã€‚';
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    text = result.candidates[0].content.parts[0].text;
                }

                const suggestionsHtml = text.split('*')
                                          .filter(s => s.trim() !== '')
                                          .map(s => `<li class="mb-2 text-gray-700">${s.trim()}</li>`)
                                          .join('');

                suggestionsContainer.innerHTML = `<h4 class="text-lg font-bold text-gray-800 mb-2">âœ¨ Gemini AI ä¼˜åŒ–å»ºè®®</h4><ul class="list-disc list-inside space-y-2">${suggestionsHtml}</ul>`;

            } catch (error) {
                console.error("Gemini API Error:", error);
                suggestionsContainer.innerHTML = `<div class="text-red-500">è·å–AIå»ºè®®æ—¶å‡ºé”™: ${error.message}</div>`;
            }
        }


        function populateStrategies() {
            const tabsContainer = document.getElementById('strategy-tabs');
            const contentContainer = document.getElementById('strategy-content');
            const strategyNames = Object.keys(strategyData);

            tabsContainer.innerHTML = strategyNames.map((name, index) => `
                <button class="strategy-tab px-4 py-3 text-sm md:text-base font-semibold text-gray-600 ${index === 0 ? 'active' : ''}" data-strategy-name="${name}">
                    ${name}
                </button>
            `).join('');
            
            function updateContent(strategyName) {
                const data = strategyData[strategyName];
                contentContainer.innerHTML = `
                    <div class="fade-in">
                        <p class="text-gray-600 mb-6">${data.description}</p>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center mb-6">
                            <div>
                                <p class="text-sm text-gray-500">æ‰€éœ€èµ„äº§</p>
                                <p class="font-bold text-gray-800">${data.assets}</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500">é£é™©ç­‰çº§</p>
                                <p class="font-bold ${data.riskColor}">${data.risk}</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500">æ½œåœ¨å›æŠ¥</p>
                                <p class="font-bold ${data.rewardColor}">${data.reward}</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500">åˆ†æå¸ˆè¯„çº§</p>
                                <p class="font-bold text-blue-600">${data.rating}</p>
                            </div>
                        </div>
                        <div class="text-center">
                            <button class="ai-suggestion-btn bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold py-2 px-6 rounded-full hover:scale-105 transition-transform" data-strategy-description="${data.description}">
                                âœ¨ è·å–AIä¼˜åŒ–å»ºè®®
                            </button>
                        </div>
                        <div id="ai-suggestions-container" class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg" style="display: none;"></div>
                    </div>
                `;
            }
            
            contentContainer.addEventListener('click', (e) => {
                 if (e.target.classList.contains('ai-suggestion-btn')) {
                    const description = e.target.dataset.strategyDescription;
                    getAiSuggestions(description);
                }
            });

            tabsContainer.addEventListener('click', (e) => {
                const button = e.target.closest('.strategy-tab');
                if (button) {
                    const strategyName = button.dataset.strategyName;
                    tabsContainer.querySelectorAll('.strategy-tab').forEach(tab => tab.classList.remove('active'));
                    button.classList.add('active');
                    updateContent(strategyName);
                }
            });

            updateContent(strategyNames[0]);
        }

        function setupSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        }
        
        function setupNavHighlighting() {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.toggle('active', link.getAttribute('href').substring(1) === entry.target.id);
                        });
                    }
                });
            }, { rootMargin: '-50% 0px -50% 0px' });

            sections.forEach(section => {
                observer.observe(section);
            });
        }

        createTokenomicsChart();
        createCompetitionChart();
        populateRisks();
        populateStrategies();
        setupSmoothScrolling();
        setupNavHighlighting();

    });
    </script>
</body>
</html>
