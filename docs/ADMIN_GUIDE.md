# 管理后台使用指南

## 📋 概述

DeFi 收益池聚合平台管理后台是为管理员设计的用户请求处理系统。通过简洁直观的界面，管理员可以高效地处理用户提交的协议收录请求、数据纠错和其他反馈。

## 🚀 快速开始

### 访问管理后台

1. **访问地址**: `https://your-domain.com/admin`
2. **登录密码**: `defix2024` (开发环境默认)
3. **权限验证**: 密码认证 + 本地会话存储

### 首次登录

![管理员登录界面示意图]

1. 打开浏览器，访问 `/admin` 路径
2. 输入管理员密码：`defix2024`
3. 点击"登录"按钮
4. 系统自动保存登录状态到本地存储

## 🏠 管理后台主页

### 功能概览

管理后台主页提供系统全局视图和快速操作入口：

#### 统计面板
- **总请求数**: 显示所有用户请求的总数
- **待处理**: 状态为 `pending` 的请求数量
- **协议收录**: `protocol_inclusion` 类型请求数
- **数据纠错**: `data_correction` 类型请求数

#### 快速操作
- **请求管理**: 跳转到请求列表页面
- **数据统计**: 查看详细报告 (即将上线)
- **系统设置**: 配置系统参数 (即将上线)

#### 系统状态
- **Supabase 数据库**: 连接状态监控
- **API 服务**: 服务运行状态

## 📝 请求管理

### 访问请求管理页面

从主页点击"请求管理"或直接访问 `/admin/requests`

### 页面功能

#### 1. 筛选和搜索

**状态筛选**:
- 全部状态
- 待处理 (pending)
- 审核中 (in_review)
- 已通过 (approved)
- 已拒绝 (rejected)

**关键词搜索**:
- 协议名称
- 联系邮箱
- 问题描述

#### 2. 请求列表

**表格列**:
| 列名 | 说明 | 示例 |
|------|------|------|
| 类型 | 请求类型标签 | 协议收录/数据纠错/其他反馈 |
| 详情 | 核心信息展示 | 协议名称+网站 或 问题描述 |
| 联系邮箱 | 用户邮箱地址 | user@example.com |
| 状态 | 当前处理状态 | 待处理/审核中/已通过/已拒绝 |
| 创建时间 | 提交时间 | 2025-07-26 10:30:00 |
| 操作 | 管理按钮 | 查看/状态变更按钮 |

#### 3. 状态管理

**状态流程**:
```
pending (待处理) → in_review (审核中) → approved/rejected (已通过/已拒绝)
```

**操作按钮**:
- 👁️ **查看**: 打开详情弹窗
- 🕐 **审核中**: 将状态改为 in_review
- ✅ **通过**: 将状态改为 approved  
- ❌ **拒绝**: 将状态改为 rejected

**批量操作**: 根据请求状态显示不同的操作按钮组合

#### 4. 请求详情

点击"查看"按钮打开详情弹窗，显示完整的请求信息：

**协议收录请求**:
- 请求类型：协议收录
- 协议名称：如 Uniswap
- 官方网站：如 https://uniswap.org
- 联系邮箱：用户邮箱
- 状态：当前处理状态
- 创建时间：提交时间
- 更新时间：最后修改时间

**数据纠错/其他反馈**:
- 请求类型：数据纠错 或 其他反馈
- 联系邮箱：用户邮箱
- 描述：详细的问题描述
- 状态：当前处理状态
- 时间信息：创建和更新时间

#### 5. 数据导出

**CSV 导出功能**:
- 点击"导出 CSV"按钮
- 自动下载当前筛选结果
- 文件命名：`requests_YYYY-MM-DD.csv`
- 包含字段：ID、类型、协议名称、邮箱、状态、创建时间

## 🔧 操作指南

### 处理协议收录请求

1. **查看请求**: 点击查看按钮，了解协议详情
2. **初步审核**: 检查协议名称和官方网站
3. **设为审核中**: 点击审核中按钮，标记为正在处理
4. **深度调研**: 进行协议安全性和可靠性调研
5. **做出决定**: 
   - ✅ 通过：协议符合收录标准
   - ❌ 拒绝：协议不符合要求或存在风险

### 处理数据纠错请求

1. **查看描述**: 了解用户反馈的具体问题
2. **验证问题**: 检查现有数据是否确实存在错误
3. **标记审核中**: 表示正在处理该问题
4. **修正数据**: 更新错误的数据信息
5. **反馈结果**:
   - ✅ 通过：问题已修正
   - ❌ 拒绝：问题不存在或无法修正

### 处理其他反馈

1. **理解反馈**: 仔细阅读用户的意见建议
2. **评估价值**: 判断反馈是否有助于平台改进
3. **制定方案**: 确定如何响应用户反馈
4. **执行改进**: 实施相关优化措施
5. **回复用户**:
   - ✅ 通过：反馈已采纳
   - ❌ 拒绝：反馈暂不采纳

## 📊 数据统计

### 请求概览

在主页统计面板可以快速了解：
- 请求处理进度
- 各类型请求分布
- 待处理请求数量

### 详细分析

使用筛选功能进行数据分析：
- 按时间范围筛选
- 按请求类型分组
- 按处理状态统计

## 🔐 安全须知

### 密码管理

**开发环境**:
- 默认密码：`defix2024`
- 会话存储：localStorage
- 自动登出：关闭浏览器后需重新登录

**生产环境建议**:
- 修改为强密码
- 实施更安全的认证机制
- 定期更换密码
- 添加操作日志

### 数据保护

- 不要在公共场所使用管理后台
- 及时登出，避免他人访问
- 定期备份重要数据
- 注意保护用户隐私信息

## 🚨 常见问题

### Q: 忘记管理员密码怎么办？
A: 联系开发人员重置密码，或修改代码中的 `ADMIN_PASSWORD` 常量。

### Q: 为什么看不到某些请求？
A: 检查筛选条件，确保选择了正确的状态和搜索关键词。

### Q: 状态更新失败怎么办？
A: 检查网络连接和 Supabase 配置，刷新页面后重试。

### Q: 如何批量处理请求？
A: 当前版本暂不支持批量操作，需要逐个处理请求。

### Q: 导出的 CSV 文件编码问题？
A: 使用 UTF-8 编码打开文件，或用 Excel 的"数据"→"从文本导入"功能。

## 🔄 最佳实践

### 请求处理流程

1. **及时响应**: 定期检查待处理请求
2. **详细记录**: 在状态变更时添加处理说明
3. **用户反馈**: 及时通知用户处理结果
4. **质量控制**: 严格按照收录标准评估

### 数据管理

1. **定期备份**: 导出重要数据进行备份
2. **数据清理**: 定期清理过期或无效请求
3. **统计分析**: 利用数据指导平台优化
4. **用户体验**: 持续改进管理界面

## 📞 技术支持

### 联系方式

- **技术问题**: 联系开发团队
- **功能建议**: 通过 GitHub Issues 提交
- **紧急情况**: 直接联系系统管理员

### 相关文档

- [系统设计文档](./SYSTEM_DESIGN.md)
- [API 接口文档](./API.md)
- [部署配置指南](./DEPLOYMENT.md)

---

**文档版本**: v1.0.0  
**最后更新**: 2025-07-26  
**适用版本**: DeFi Platform v2.2.0+